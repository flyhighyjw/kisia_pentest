<?php
// Include the database connection code
require_once $_SERVER['DOCUMENT_ROOT'].'/3severside/database.php';

// Check if action and item parameters are set
if(isset($_GET['action']) && isset($_GET['item'])) {
    // Sanitize the input
    $action = $_GET['action'];
    $item = $_GET['item'];

    // Execute SQL query based on the action
    switch($action) {
        case 'edit':
            // Implement your edit action SQL query here
            break;
        case 'delete':
            // Execute delete action SQL query
            $query = "DELETE FROM Items WHERE ino = $item";
            execute_query($query);
            break;
        case 'disable':
        case 'enable':
            // Toggle the istat value
            $query = "UPDATE Items SET istat = (1 - istat) WHERE ino = $item";
            execute_query($query);
            break;
        default:
            // Invalid action
            echo "Invalid action.";
            exit();
    }

    // Redirect the parent window to the dashboard with the 'item' tab selected
    echo "<script>window.parent.parent.location.href = '/?target=dashboard&tab=item';</script>";
} else {
    // Action or item parameter is missing
    echo "Action or item parameter is missing.";
}
?>
